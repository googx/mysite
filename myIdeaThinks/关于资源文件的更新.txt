关于在洗澡时设想的系统资源文件(自己的css,js,图片等文件,如何通过cdn缓存并且要保证时效性,并且设置最大缓存的性能,同时又能保证文件在更新时能及时同步到客户端)

1.需要在项目中配置检测哪些目录下的所有资源文件需要进行一下操作(需要同时支持linux和window的路径).

2.配置好这些路径后,系统会将以下路径的文件的属性获取(修改时间,和文件名,记录到资源文件表中,表字段设置是否需要使用文件更名缓存策略)
在项目启动时自动扫描相关路径下的资源文件.进行对库的文件进行新增或者更新为无效状态(因为该文件不存在了,或者移动位置了) , 资源文件一般存放在nginx网关中

3.在启动时扫描到的所有文件list,在另一个线程中依次判断在上次扫描的文件list中是否有文件更新修改(通过计算文件的校验码&md5),如果有就更换其文件的名字将其更新至库中,完成后将上述(1)指定的路径中的文件进行更迭名称,并给出一个map(旧文件名,新文件名)交给一个具体的处理器去处理这件事(操作系统命令)
linux:
	1)本机nginx,tomcat;直接操作具体的路径进行(先将当前tomcat运行路径下的需要更新的资源文件拷贝到一个tomcat备份资源操作目录 并进行更名,,然后在将更名成功后的拷贝到nginx路径下,nginx的成功后进行打包备份上次的文件,nginx的成功更新后再将tomcat的上次的文件进行打包备份), 上述成功后 返回一个成功状态码,java接收到这个消息并向数据库操作资源文件更新成功;
注:打包备份成功后才可以删除上一次打包备份的文件

	2)nginx网关,tomcat集群(不同机器). 使用linux命令调用当前tomcat机器的一个shell脚本(1),并传递给一个http地址(用来获取最新的文件映射信息)给shell脚本,这个shell脚本在打开与nginx网关的通道.将当前tomcat中的

3.jsp或者其他形式的前端模板框架,依然使用具体的资源文件名,作为html文档头部引入文件.列入在jsp下
<script type="text/javascript"  src="${resourceRoot}${jspMap["/internet/jquery/jquery-1.9.1.min.js"]}"></script>
使用该方式${resourceRoot}${HashMap["/internet/jquery/jquery-1.9.1.min.js"]} 进行导入资源文件
此处的实现(如何放置这些文本)应该是一个多态,因为可能不同的前端引擎框架使用不同的方式技术
比如文件名为Jsphandler这样的.

4.
